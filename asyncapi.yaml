asyncapi: 3.0.0
info:
  title: Mobula WebSocket API
  version: 1.0.0
  description: Real-time WebSocket streams for market data and trades

servers:
  production:
    host: api.mobula.io
    protocol: wss
    description: Production WebSocket server

channels:
  fastTrades:
    address: /
    messages:
      tradeMessage:
        payload:
          type: object
          properties:
            pair:
              type: string
              description: Trading pair
            price:
              type: number
              description: Trade price
            type:
              type: string
              enum: [buy, sell]
              description: Trade type
    description: Real-time trade updates

operations:
  receiveTrades:
    action: receive
    channel:
      $ref: '#/channels/fastTrades'
    messages:
      - $ref: '#/channels/fastTrades/messages/tradeMessage'
